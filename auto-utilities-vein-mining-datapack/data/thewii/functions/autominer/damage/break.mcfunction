playsound minecraft:item.shield.break ambient @s ~ ~ ~ 1 1

execute unless score $custom_dur twvm.tool matches 1 if data storage thewii:autominer/temp SelectedItem{id:"minecraft:wooden_pickaxe"} anchored eyes run particle item minecraft:wooden_pickaxe ^ ^-0.3 ^0.5 0.1 0.1 0.1 0.075 8 normal @a[tag=!global.ignore,tag=!global.ignore.gui]
execute unless score $custom_dur twvm.tool matches 1 if data storage thewii:autominer/temp SelectedItem{id:"minecraft:stone_pickaxe"} anchored eyes run particle item minecraft:stone_pickaxe ^ ^-0.3 ^0.5 0.1 0.1 0.1 0.075 8 normal @a[tag=!global.ignore,tag=!global.ignore.gui]
execute unless score $custom_dur twvm.tool matches 1 if data storage thewii:autominer/temp SelectedItem{id:"minecraft:iron_pickaxe"} anchored eyes run particle item minecraft:iron_pickaxe ^ ^-0.3 ^0.5 0.1 0.1 0.1 0.075 8 normal @a[tag=!global.ignore,tag=!global.ignore.gui]
execute unless score $custom_dur twvm.tool matches 1 if data storage thewii:autominer/temp SelectedItem{id:"minecraft:golden_pickaxe"} anchored eyes run particle item minecraft:golden_pickaxe ^ ^-0.3 ^0.5 0.1 0.1 0.1 0.075 8 normal @a[tag=!global.ignore,tag=!global.ignore.gui]
execute unless score $custom_dur twvm.tool matches 1 if data storage thewii:autominer/temp SelectedItem{id:"minecraft:diamond_pickaxe"} anchored eyes run particle item minecraft:diamond_pickaxe ^ ^-0.3 ^0.5 0.1 0.1 0.1 0.075 8 normal @a[tag=!global.ignore,tag=!global.ignore.gui]
execute unless score $custom_dur twvm.tool matches 1 if data storage thewii:autominer/temp SelectedItem{id:"minecraft:netherite_pickaxe"} anchored eyes run particle item minecraft:netherite_pickaxe ^ ^-0.3 ^0.5 0.1 0.1 0.1 0.075 8 normal @a[tag=!global.ignore,tag=!global.ignore.gui]

execute unless score $keep_broken twvm.tool matches 1 run data modify storage thewii:autominer/temp SelectedItem.id set value "minecraft:air"
execute if score $keep_broken twvm.tool matches 1 run data modify storage thewii:autominer/temp SelectedItem.tag.ctc.tool.broken set value 1b